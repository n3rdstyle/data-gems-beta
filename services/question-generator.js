/**
 * Question Generator Service
 * AI-Context Questions: 25 questions per category for AI prompt personalization
 */

/**
 * Comprehensive field mappings - 25 questions per category
 * Focus: Preferences, Criteria, Constraints, Concrete Data
 */
const FIELD_MAPPINGS = {
  // === TRAVEL (25) ===
  travel_persona: 'Travel style: adventure, relaxation, culture, or mix?',
  preferred_vibe: 'Trip vibe: social & busy or quiet & peaceful?',
  trip_frequency: 'How many trips per year?',
  travel_companions: 'Travel companions: solo, partner, family, friends?',
  core_motivations: 'Main reason for traveling?',
  avoid_on_trips: 'Deal-breakers when traveling?',
  favorite_regions_or_countries: 'Favorite destinations?',
  preferred_climate: 'Preferred climate/weather?',
  preferred_landscapes: 'Landscape preference: beach, mountains, city, countryside?',
  urban_vs_nature_preference: 'Cities or nature?',
  cultural_interests: 'Cultural interests when traveling?',
  language_comfort_zones: 'Languages you speak?',
  preferred_types: 'Accommodation: hotels, Airbnb, hostels, camping?',
  comfort_level: 'Accommodation comfort level: budget, standard, luxury?',
  style_keywords: 'Accommodation style preference?',
  amenities_priority: 'Must-have amenities?',
  favorite_hotels_or_brands: 'Favorite hotel brands?',
  stay_duration_pattern: 'Typical stay duration per location?',
  preferred_modes: 'Transport preference: plane, train, car, bus?',
  airline_or_train_loyalty: 'Preferred airlines or train companies?',
  seat_preference: 'Seat preference: window, aisle, doesn\'t matter?',
  baggage_habits: 'Packing style: light or heavy?',
  car_rental_preference: 'Do you rent cars?',
  sustainability_priority: 'How important is sustainable travel?',
  dietary_considerations: 'Dietary needs when traveling?',
  favorite_cuisines: 'Favorite cuisines?',
  coffee_habits: 'Coffee preference?',
  restaurant_type_preference: 'Restaurant type: fine dining, casual, street food?',
  local_food_openness: 'Try local food or stick to familiar?',
  avoid_foods: 'Foods you avoid?',
  average_budget_per_trip: 'Typical trip budget?',
  budget_flexibility: 'Budget flexibility: strict or flexible?',
  splurge_categories: 'Where do you splurge when traveling?',
  saving_preferences: 'Where do you save when traveling?',
  value_definition: 'What\'s good value in travel?',
  preferred_payment_method: 'Payment method: cash, card, mobile?',
  planning_style: 'Planning: detailed plans or spontaneous?',
  booking_window: 'How far in advance do you book?',
  trip_discovery_channels: 'How do you discover destinations?',
  trust_sources: 'Trusted travel sources?',
  trip_length_preference: 'Ideal trip length?',
  spontaneity_level: 'Spontaneity level: planned or go-with-flow?',
  feelings_sought_on_trip: 'What feeling do you want from travel?',
  perfect_trip_description: 'One word for your perfect trip?',
  most_memorable_trip: 'Best trip you\'ve taken?',
  worst_trip_pain_points: 'Worst travel experience?',
  stress_triggers_when_traveling: 'What stresses you when traveling?',
  post_trip_feelings: 'How do you feel after trips?',

  // === SHOPPING (25) ===
  style_words: 'Style in 3 words?',
  dominant_colors: 'Colors you wear most?',
  preferred_materials: 'Preferred materials/fabrics?',
  avoided_textures_patterns: 'Materials or patterns you avoid?',
  attractive_design_qualities: 'Design qualities you look for?',
  product_feels_like_me: 'Brands that feel like you?',
  visual_references: 'Style inspirations?',
  sizes: 'Clothing sizes (tops/bottoms/shoes)?',
  preferred_fit: 'Fit preference: tight, fitted, regular, loose, oversized?',
  brands_fit_well: 'Brands that fit you well?',
  comfort_features: 'Comfort must-haves?',
  cuts_shapes_to_avoid: 'Cuts or shapes you avoid?',
  sensitivity_notes: 'Fabric sensitivities?',
  main_use_cases: 'Main use: work, casual, sports, formal?',
  purchase_frequency_by_use_case: 'How often do you buy clothes?',
  key_functional_traits: 'Functional must-haves?',
  existing_ecosystem: 'Current wardrobe brands?',
  tech_upgrade_cadence: 'How often upgrade tech/gear?',
  discovery_channels: 'How do you discover products?',
  value_aligned_brands: 'Values-aligned brands?',
  appealing_brand_stories: 'Brand stories that resonate?',
  avoid_practices_materials: 'Practices/materials you avoid?',
  local_ethic_priority: 'Importance of local/ethical: high, medium, low?',
  prioritize_emerging_brands: 'Support small/new brands?',
  preferred_certifications: 'Important certifications?',
  price_range_everyday_clothing: 'Budget for everyday clothes?',
  price_range_shoes: 'Budget for shoes?',
  price_range_tech: 'Budget for tech?',
  quality_vs_quantity: 'Quality or quantity?',
  worth_it_criteria: 'What makes something worth the price?',
  primary_location: 'Where do you live (city)?',
  typical_weather: 'Typical weather?',
  travel_habits: 'Travel frequency?',
  daily_rhythm: 'Daily routine?',
  environmental_constraints: 'Environmental factors affecting clothing?',
  lifestyle_habits: 'Lifestyle (active, sedentary, mixed)?',
  decision_style: 'Shopping: quick decisions or research?',
  typical_comparison_set_size: 'How many options do you compare?',
  curation_preference: 'Curated selection or wide choice?',
  return_rate_sentiment: 'Return frequency?',
  purchase_triggers: 'What triggers a purchase?',
  review_influence_level: 'How much do reviews matter?',
  shopping_mode_preference: 'Online or in-store?',
  desired_purchase_emotions: 'How should shopping feel?',
  story_vs_function_bias: 'Story or function priority?',
  packaging_preferences: 'Packaging preferences?',
  most_memorable_purchase: 'Best purchase ever?',
  most_common_regret: 'Common purchase regrets?',
  perfect_buy_definition: 'What makes a perfect purchase?',

  // === EMOTIONS (25) ===
  core_emotions_felt_often: 'Emotions you feel most?',
  emotional_expression_style: 'How do you show emotions?',
  emotional_language_strength: 'Comfort talking about emotions: high, medium, low?',
  comfort_with_vulnerability: 'Comfort with vulnerability: high, medium, low?',
  dominant_emotional_tone: 'Overall emotional tone?',
  relationship_with_emotions: 'Relationship with emotions: embrace or avoid?',
  typical_daily_mood_range: 'Daily mood range: stable or varied?',
  energy_vs_emotion_pattern: 'Energy affects mood or vice versa?',
  emotional_triggers_positive: 'What lifts your mood?',
  emotional_triggers_negative: 'What brings you down?',
  coping_mechanisms: 'How do you cope with stress?',
  emotional_recovery_speed: 'Recovery speed: fast or slow?',
  need_for_connection: 'Need for connection: high, medium, low?',
  need_for_stability: 'Need for stability: high, medium, low?',
  need_for_excitement_or_novelty: 'Need for excitement: high, medium, low?',
  need_for_recognition: 'Need for recognition: high, medium, low?',
  need_for_safety: 'Need for safety: high, medium, low?',
  need_for_autonomy: 'Need for independence: high, medium, low?',
  preferred_forms_of_expression: 'How do you express yourself?',
  creative_or_physical_outlets: 'Emotional outlets?',
  communication_of_feelings: 'Share feelings: openly, selectively, rarely?',
  body_language_awareness: 'Body language awareness: high, medium, low?',
  tendency_to_suppress_or_share: 'Suppress or share emotions?',
  rituals_for_emotional_release: 'Emotional release rituals?',
  stress_response_pattern: 'Stress response?',
  main_sources_of_stress: 'Main stress sources?',
  stress_management_strategies: 'Stress management?',
  resilience_triggers: 'What builds resilience?',
  comfort_sources: 'What comforts you?',
  burnout_signs: 'Burnout signs you notice?',
  self_awareness_level: 'Self-awareness: high, medium, low?',
  empathy_toward_others: 'Empathy level: high, medium, low?',
  ability_to_label_emotions: 'Can you name emotions easily?',
  emotional_regulation_skill: 'Emotion regulation: strong, moderate, needs work?',
  pattern_recognition_in_others: 'Read others\' emotions: easily, sometimes, rarely?',
  emotional_learning_goals: 'Emotional goals?',
  sources_of_joy: 'Joy sources?',
  moments_of_calm: 'When do you feel calm?',
  factors_that_reduce_wellbeing: 'Wellbeing reducers?',
  gratitude_practices: 'Gratitude practices?',
  definition_of_happiness: 'Happiness definition?',
  emotional_balance_strategy: 'Balance strategy?',
  recent_emotional_realizations: 'Recent emotional insights?',
  most_common_feeling_lately: 'Recent dominant feeling?',
  emotions_you_want_to_experience_more: 'Emotions you want more of?',
  emotions_you_avoid: 'Emotions you avoid?',
  what_your_emotions_teach_you: 'What emotions teach you?',
  relationship_between_emotion_and_identity: 'How emotions shape you?',

  // === WORK (25) ===
  current_role: 'Job title/role?',
  industry: 'Industry?',
  company_or_organization: 'Company type/size?',
  workplace_size: 'Team size?',
  years_of_experience: 'Years of experience?',
  professional_strengths: 'Top 3 professional strengths?',
  career_values: 'Career values?',
  short_term_goals: 'Short-term career goals?',
  long_term_goals: 'Long-term career goals?',
  career_dreams: 'Dream job?',
  motivation_for_work: 'Work motivation?',
  definition_of_success: 'Success definition?',
  career_inspirations: 'Professional inspirations?',
  typical_work_hours: 'Typical work hours?',
  preferred_start_time: 'Preferred start time?',
  break_patterns: 'Break frequency/style?',
  focus_energy_cycles: 'Peak focus time?',
  workload_tolerance: 'Workload capacity: high, medium, low?',
  ideal_workday_description: 'Ideal workday?',
  collaboration_style: 'Collaboration: solo, team, mix?',
  communication_preferences: 'Communication: meetings, email, chat, calls?',
  meeting_tolerance_level: 'Meeting tolerance: high, medium, low?',
  feedback_preference: 'Feedback style: direct, gentle, written, verbal?',
  team_dynamics_preference: 'Team size preference?',
  preferred_tools_for_communication: 'Communication tools?',
  project_management_style: 'PM approach: structured, flexible, agile?',
  preferred_productivity_system: 'Productivity system?',
  favorite_work_apps_or_tools: 'Essential work tools?',
  file_organization_habits: 'Organization style: neat, chaotic, functional?',
  automation_or_ai_tools_used: 'AI/automation tools used?',
  distraction_management_strategies: 'Distraction management?',
  leadership_style: 'Leadership style?',
  mentorship_roles: 'Mentor or mentee?',
  learning_priorities_for_work: 'Learning priorities?',
  decision_making_style: 'Decision style: quick, thorough, collaborative?',
  change_management_comfort: 'Comfort with change: high, medium, low?',
  growth_mindset_practices: 'Growth practices?',
  preferred_work_location: 'Work location: office, remote, hybrid?',
  home_office_setup: 'Home office setup?',
  office_environment_preferences: 'Office environment: quiet, busy, collaborative?',
  travel_frequency_for_work: 'Work travel frequency?',
  commute_preference: 'Commute preference?',
  ideal_workspace_vibe: 'Workspace vibe?',
  feelings_toward_work: 'Feelings about work?',
  moments_of_flow: 'Flow moments?',
  biggest_sources_of_stress: 'Work stressors?',
  most_proud_work_moments: 'Proudest work moments?',
  work_life_balance_definition: 'Work-life balance definition?',
  purpose_you_find_in_work: 'Work purpose?',

  // === NUTRITION (25) ===
  overall_diet_type: 'Diet type: omnivore, vegetarian, vegan, other?',
  eating_philosophy: 'Eating philosophy?',
  dietary_restrictions: 'Dietary restrictions?',
  allergies: 'Food allergies?',
  ethical_or_religious_considerations: 'Ethical/religious food rules?',
  nutrition_goals: 'Nutrition goals?',
  flexibility_level: 'Diet flexibility: strict, moderate, flexible?',
  meal_frequency: 'Meals per day?',
  usual_breakfast_time: 'Breakfast time?',
  usual_lunch_time: 'Lunch time?',
  usual_dinner_time: 'Dinner time?',
  snack_patterns: 'Snacking habits?',
  late_night_eating_habit: 'Late-night eating: yes, no, sometimes?',
  favorite_cuisines: 'Favorite cuisines?',
  favorite_dishes: 'Favorite dishes?',
  preferred_flavors: 'Flavor preferences: sweet, salty, spicy, sour?',
  disliked_foods: 'Disliked foods?',
  comfort_foods: 'Comfort foods?',
  experimental_openness: 'Try new foods: always, sometimes, rarely?',
  daily_drinks: 'Daily beverages?',
  coffee_or_tea_preference: 'Coffee, tea, or both?',
  alcohol_consumption_pattern: 'Alcohol: regularly, socially, rarely, never?',
  hydration_habits: 'Water intake per day?',
  favorite_non_alcoholic_drinks: 'Favorite drinks?',
  avoid_beverages: 'Avoided beverages?',
  cooking_frequency: 'Cook: daily, weekly, rarely, never?',
  preferred_cooking_methods: 'Cooking methods?',
  skill_level: 'Cooking skill: beginner, intermediate, advanced?',
  favorite_ingredients: 'Favorite ingredients?',
  kitchen_equipment_priority: 'Essential kitchen tools?',
  takeout_frequency: 'Takeout frequency?',
  fitness_connection: 'Food-fitness connection?',
  supplement_routine: 'Supplements taken?',
  tracking_methods: 'Track food: yes, no, sometimes?',
  gut_health_focus: 'Gut health priority: high, medium, low?',
  energy_level_patterns: 'Food-energy connection?',
  food_sensitivity_awareness: 'Known food sensitivities?',
  grocery_frequency: 'Grocery shopping frequency?',
  preferred_supermarkets_or_brands: 'Preferred grocery stores?',
  organic_preference: 'Organic priority: high, medium, low?',
  budget_per_week: 'Weekly food budget?',
  online_vs_offline_shopping: 'Grocery: online, in-store, both?',
  food_sourcing_priority: 'Local/sustainable priority: high, medium, low?',
  emotional_triggers_for_eating: 'Emotional eating triggers?',
  food_as_reward_or_relaxation: 'Food as reward: yes, no, sometimes?',
  most_memorable_meal: 'Most memorable meal?',
  stress_eating_tendency: 'Stress eating: yes, no, sometimes?',
  mindful_eating_practices: 'Mindful eating?',
  definition_of_good_meal: 'Good meal definition?',

  // === HEALTH (25) ===
  sleep_pattern: 'Sleep schedule?',
  sleep_hours: 'Hours of sleep needed?',
  sleep_quality: 'Sleep quality: good, fair, poor?',
  exercise_routine: 'Exercise frequency?',
  exercise_type: 'Exercise type: cardio, strength, yoga, mix?',
  exercise_duration: 'Exercise duration per session?',
  fitness_goals: 'Fitness goals?',
  health_priorities: 'Health priorities?',
  chronic_conditions: 'Chronic health conditions?',
  medications_regular: 'Regular medications?',
  supplements: 'Daily supplements?',
  health_tracking: 'Track health metrics?',
  doctor_visit_frequency: 'Doctor visits per year?',
  preventive_care: 'Preventive care habits?',
  mental_health_practices: 'Mental health practices?',
  stress_level: 'Stress level: high, medium, low?',
  energy_levels: 'Energy levels: high, medium, low?',
  body_signals_awareness: 'Body awareness: high, medium, low?',
  pain_areas: 'Chronic pain areas?',
  mobility_issues: 'Mobility limitations?',
  vision_hearing: 'Vision/hearing needs?',
  dental_health: 'Dental health priority: high, medium, low?',
  skin_care_routine: 'Skincare routine?',
  water_intake: 'Daily water intake?',
  caffeine_consumption: 'Daily caffeine?',
  alcohol_limits: 'Alcohol limits?',
  smoking_status: 'Smoking: yes, no, former?',
  screen_time: 'Daily screen time?',
  outdoor_time: 'Outdoor time per day?',
  recovery_priorities: 'Recovery priorities?',
  health_anxiety: 'Health anxiety: high, medium, low?',
  wellness_budget: 'Monthly wellness budget?',
  health_insurance: 'Health insurance coverage?',
  alternative_medicine: 'Use alternative medicine?',
  body_goals: 'Body goals?',

  // === MEMORY (25) ===
  relationship_with_past: 'View of past: nostalgic, neutral, prefer present?',
  attitude_toward_memory: 'Memory importance: high, medium, low?',
  emotional_connection_to_nostalgia: 'Nostalgia frequency: often, sometimes, rarely?',
  view_on_time_and_change: 'Change perspective: embrace, accept, resist?',
  storytelling_style: 'Storytelling: detailed, brief, visual?',
  memory_triggers: 'Common memory triggers?',
  childhood_memories: 'Favorite childhood memory?',
  adolescent_formative_experiences: 'Teen defining moment?',
  adulthood_defining_moments: 'Adult defining moment?',
  career_or_achievement_highlights: 'Proudest achievement?',
  transformative_failures_or_lessons: 'Biggest lesson learned?',
  moments_of_awakening: 'Moment everything clicked?',
  most_influential_people: 'Most influential person?',
  memories_shared_with_loved_ones: 'Shared memory you treasure?',
  losses_that_shaped_you: 'Loss that shaped you?',
  mentors_or_role_models: 'Key mentor?',
  friendship_moments_you_value: 'Treasured friendship moment?',
  relationship_transitions: 'Relationship transition impact?',
  childhood_places: 'Childhood home location?',
  cities_or_countries_that_shaped_you: 'Place that shaped you?',
  favorite_places_from_past: 'Favorite past place?',
  places_associated_with_calm_or_home: 'Place that feels like home?',
  memories_linked_to_travel: 'Memorable travel moment?',
  environmental_sensory_triggers: 'Smell/sound that triggers memories?',
  sentimental_objects: 'Sentimental object?',
  family_heirlooms_or_symbols: 'Family heirloom?',
  music_or_art_that_evokes_memory: 'Song/art that evokes memory?',
  digital_memories_saved: 'Digital memories saved?',
  personal_archives_or_journals: 'Keep journals/archives?',
  photographs_that_define_you: 'Photo that defines you?',
  happiest_memories: 'Happiest memory?',
  most_challenging_moments: 'Toughest moment?',
  memories_of_love_and_connection: 'Loving memory?',
  memories_of_fear_or_loss: 'Difficult memory?',
  themes_that_repeat_in_memory: 'Recurring memory theme?',
  healing_or_reframed_memories: 'Reframed memory?',
  lessons_from_past: 'Key life lesson?',
  how_you_revisit_old_memories: 'Revisit memories: photos, stories, places?',
  how_memory_influences_present_choices: 'How past influences present?',
  moments_you_want_to_preserve_forever: 'Moment to preserve forever?',
  how_you_deal_with_regret: 'Deal with regret?',
  what_memory_means_to_you: 'What memories mean to you?',
  stories_you_tell_about_yourself: 'Story you tell about yourself?',
  stories_you_avoid_telling: 'Story you avoid?',
  people_you_want_to_pass_memories_to: 'Who to pass memories to?',
  mediums_you_use_to_preserve_memory: 'How preserve memories?',
  how_you_want_to_be_remembered: 'How want to be remembered?',
  memory_project_or_archive_idea: 'Memory archive idea?',

  // === ARTS & CREATIVITY (25) ===
  creative_self_description: 'Creative in 3 words?',
  role_of_creativity_in_life: 'Creativity importance: high, medium, low?',
  artistic_or_inventive_disciplines: 'Creative disciplines?',
  creative_strengths: 'Creative strengths?',
  creative_challenges: 'Creative challenges?',
  definition_of_originality: 'Originality definition?',
  favorite_art_styles_or_movements: 'Favorite art styles?',
  aesthetic_keywords: 'Aesthetic in 3 words?',
  preferred_color_palettes: 'Color palette preference?',
  material_or_medium_preferences: 'Preferred mediums?',
  emotional_response_to_aesthetics: 'Art emotional impact?',
  symbols_or_visual_motifs: 'Resonating symbols?',
  inspiration_sources: 'Inspiration sources?',
  idea_generation_methods: 'Idea generation?',
  workflow_from_idea_to_creation: 'Creation workflow?',
  preferred_tools_or_mediums: 'Creative tools?',
  balance_between_planning_and_improvisation: 'Plan or improvise?',
  creative_rituals_or_routines: 'Creative rituals?',
  approach_to_innovation: 'Innovation approach?',
  comfort_with_ambiguity_and_failure: 'Failure comfort: high, medium, low?',
  curiosity_triggers: 'Curiosity triggers?',
  collaboration_in_creation: 'Collaborate: often, sometimes, solo?',
  pattern_recognition_strengths: 'Pattern recognition?',
  examples_of_inventive_projects: 'Proud creative project?',
  creative_outlets: 'Creative outlets?',
  art_forms_you_practice: 'Art forms practiced?',
  performance_or_exhibition_experience: 'Performed/exhibited?',
  favorite_subjects_or_themes: 'Favorite themes?',
  audience_relationship: 'Create for: self, specific audience, everyone?',
  art_as_emotional_expression: 'Art as emotional outlet?',
  favorite_artists_or_creators: 'Favorite artists?',
  inspirational_works: 'Inspirational works?',
  museums_or_events_you_frequent: 'Museums/events visited?',
  favorite_music_books_or_films: 'Favorite music/books/films?',
  online_art_spaces_or_communities: 'Online art communities?',
  daily_inspiration_sources: 'Daily inspiration?',
  skills_in_development: 'Skills developing?',
  creative_courses_or_workshops: 'Courses/workshops?',
  mentorship_or_peer_learning: 'Creative mentors?',
  creative_feedback_habits: 'Handle feedback: well, with difficulty, avoid?',
  projects_you_want_to_master: 'Project to master?',
  vision_for_creative_growth: 'Creative growth vision?',
  artistic_or_innovative_goals: 'Creative goals?',
  technologies_or_tools_you_want_to_explore: 'Tools to explore?',
  dream_collaborations: 'Dream collaboration?',
  vision_for_future_creative_work: 'Future vision?',
  cultural_impact_you_want_to_make: 'Cultural impact goal?',
  definition_of_creative_legacy: 'Creative legacy?',

  // === FAMILY (25) ===
  family_structure: 'Family structure?',
  family_size: 'Family size?',
  relationship_status: 'Relationship status?',
  children: 'Children: yes, no, planning?',
  children_ages: 'Children ages?',
  parenting_style: 'Parenting style?',
  extended_family_closeness: 'Extended family closeness: close, moderate, distant?',
  family_values: 'Core family values?',
  family_traditions: 'Family traditions?',
  family_gathering_frequency: 'Family gathering frequency?',
  family_communication_style: 'Family communication: open, reserved, complex?',
  conflict_resolution: 'Family conflict resolution?',
  support_system: 'Primary support system?',
  caregiving_responsibilities: 'Caregiving roles?',
  household_roles: 'Household role distribution?',
  decision_making_family: 'Family decisions: joint, individual, shared?',
  cultural_heritage: 'Cultural heritage?',
  language_spoken_at_home: 'Home language(s)?',
  religious_practices: 'Religious practices?',
  family_activities: 'Common family activities?',
  vacation_style_family: 'Family vacation style?',
  family_meals_frequency: 'Family meals frequency?',
  pet_situation: 'Pets?',
  living_situation: 'Living situation: alone, partner, family, roommates?',
  proximity_to_family: 'Distance from family: same city, nearby, far?',
  family_support_needs: 'Family support needs?',
  future_family_plans: 'Future family plans?',
  parenting_challenges: 'Parenting challenges?',
  family_health_concerns: 'Family health concerns?',
  inheritance_planning: 'Estate planning: yes, in progress, no?',
  family_business: 'Family business involved?',
  sibling_relationships: 'Sibling relationships?',
  parent_relationship: 'Relationship with parents?',
  in_law_relationships: 'In-law relationships?',
  family_boundaries: 'Family boundaries: clear, flexible, needs work?',

  // === IDENTITY (25) ===
  age: 'Age?',
  gender: 'Gender?',
  pronouns: 'Pronouns?',
  nationality: 'Nationality?',
  ethnicity: 'Ethnicity?',
  languages_spoken: 'Languages spoken?',
  religion: 'Religion/spirituality?',
  political_leaning: 'Political leaning?',
  education_level: 'Education level?',
  personality_type: 'Personality type (MBTI, Enneagram, etc.)?',
  core_values: 'Core values?',
  life_philosophy: 'Life philosophy in one sentence?',
  strengths: 'Top 3 strengths?',
  weaknesses: 'Areas for growth?',
  introvert_extrovert: 'Introvert, extrovert, or ambivert?',
  risk_tolerance: 'Risk tolerance: high, medium, low?',
  decision_making_style_general: 'Decision style: intuitive, analytical, both?',
  conflict_style: 'Conflict style: avoid, confront, compromise?',
  communication_style_general: 'Communication: direct, indirect, context-dependent?',
  love_language: 'Love language?',
  attachment_style: 'Attachment style?',
  morning_night_person: 'Morning or night person?',
  organization_style: 'Organization: neat, messy, functional chaos?',
  perfectionism_level: 'Perfectionism: high, medium, low?',
  spontaneity_vs_planning: 'Spontaneous or planner?',
  optimism_pessimism: 'Optimist, pessimist, or realist?',
  social_battery: 'Social battery: high, medium, low?',
  alone_time_needs: 'Alone time needs: high, medium, low?',
  life_priorities: 'Top 3 life priorities?',
  biggest_fear: 'Biggest fear?',
  biggest_dream: 'Biggest dream?',
  role_models: 'Role models?',
  life_changing_moment: 'Life-changing moment?',
  proudest_moment: 'Proudest moment?',
  biggest_regret: 'Biggest regret?',

  // === LEARNING (25) ===
  learning_style: 'Learning style: visual, auditory, kinesthetic, reading?',
  preferred_learning_format: 'Learning format: video, text, audio, hands-on?',
  learning_pace: 'Learning pace: fast, moderate, slow?',
  retention_method: 'Best retention method?',
  concentration_span: 'Focus span: long, medium, short?',
  best_learning_time: 'Best learning time of day?',
  learning_environment: 'Learning environment: quiet, background noise, music?',
  note_taking_style: 'Note-taking: detailed, brief, digital, handwritten?',
  learning_goals: 'Current learning goals?',
  subjects_of_interest: 'Subjects of interest?',
  formal_education: 'Highest education?',
  online_course_platforms: 'Online learning platforms used?',
  learning_budget: 'Monthly learning budget?',
  certifications_desired: 'Certifications pursuing?',
  mentor_preference: 'Learning: with mentor or self-taught?',
  group_vs_solo_learning: 'Group or solo learning?',
  practice_frequency: 'Practice frequency?',
  learning_challenges: 'Learning challenges?',
  knowledge_application: 'Apply knowledge: immediately, eventually, rarely?',
  skill_gaps: 'Skill gaps to fill?',
  languages_learning: 'Languages learning?',
  reading_frequency: 'Reading frequency?',
  podcast_listening: 'Podcast listening?',
  documentary_watching: 'Documentary watching?',
  conference_attendance: 'Conference attendance?',
  professional_development: 'Professional development priority: high, medium, low?',
  teaching_others: 'Teach others: often, sometimes, rarely?',
  learning_community: 'Learning communities joined?',
  knowledge_sharing: 'Share knowledge: actively, occasionally, privately?',
  curiosity_areas: 'Curiosity areas?',
  learning_motivation: 'Learning motivation?',
  failure_response: 'Handle learning failure: bounce back, discouraged, motivated?',
  information_consumption: 'Daily info consumption hours?',
  critical_thinking: 'Critical thinking: strong, developing, needs work?',

  // === RELATIONSHIPS (25) ===
  relationship_status_detailed: 'Relationship status?',
  relationship_length: 'Current relationship length?',
  relationship_goals: 'Relationship goals?',
  partnership_values: 'Partnership values?',
  conflict_resolution_relationships: 'Relationship conflict style?',
  quality_time_needs: 'Quality time needs: high, medium, low?',
  independence_needs: 'Independence needs: high, medium, low?',
  communication_frequency: 'Communication frequency preference?',
  affection_style: 'Affection style: physical, verbal, acts of service, gifts?',
  date_night_frequency: 'Date night frequency?',
  shared_interests: 'Shared interests importance: high, medium, low?',
  separate_interests: 'Separate interests importance: high, medium, low?',
  financial_approach: 'Finances: shared, separate, hybrid?',
  household_responsibilities: 'Household split?',
  social_life_balance: 'Social life: together, separate, balanced?',
  friend_circle_size: 'Friend circle: large, medium, small?',
  friendship_depth: 'Friendships: many acquaintances or few close?',
  friend_contact_frequency: 'Friend contact frequency?',
  social_activities: 'Preferred social activities?',
  networking: 'Networking: active, moderate, minimal?',
  boundaries_relationships: 'Relationship boundaries: clear, flexible, needs work?',
  trust_level: 'Trust easily: yes, selectively, rarely?',
  jealousy_tendency: 'Jealousy: high, medium, low?',
  commitment_readiness: 'Commitment: ready, cautious, avoiding?',
  past_relationship_impact: 'Past relationship impact: significant, moderate, minimal?',
  relationship_deal_breakers: 'Relationship deal-breakers?',
  ideal_partner_qualities: 'Ideal partner qualities?',
  relationship_challenges: 'Relationship challenges?',
  support_expectations: 'Support expectations?',
  growth_together: 'Growth together importance: high, medium, low?',

  // === HABITS (25) ===
  morning_routine: 'Morning routine?',
  evening_routine: 'Evening routine?',
  wake_up_time: 'Typical wake time?',
  bedtime: 'Typical bedtime?',
  screen_time_before_bed: 'Screen time before bed?',
  morning_beverage: 'Morning beverage?',
  breakfast_habit: 'Breakfast: daily, sometimes, skip?',
  commute_time: 'Commute time?',
  work_breaks: 'Break frequency during work?',
  lunch_break: 'Lunch break length?',
  afternoon_energy: 'Afternoon energy: high, medium, low?',
  exercise_timing: 'Exercise time: morning, afternoon, evening?',
  meal_prep_frequency: 'Meal prep: daily, weekly, rarely?',
  cleaning_frequency: 'Cleaning frequency?',
  laundry_frequency: 'Laundry frequency?',
  errands_timing: 'Errands: weekday, weekend, as needed?',
  social_media_usage: 'Daily social media time?',
  news_consumption: 'News: daily, weekly, rarely?',
  hobbies_frequency: 'Hobby time per week?',
  tv_streaming_time: 'TV/streaming per day?',
  gaming_frequency: 'Gaming frequency?',
  reading_time: 'Reading time per day?',
  meditation_practice: 'Meditation: daily, weekly, rarely, never?',
  journaling: 'Journaling: daily, weekly, rarely, never?',
  planning_frequency: 'Planning: daily, weekly, monthly?',
  productivity_peak: 'Productivity peak time?',
  procrastination_tendency: 'Procrastination: high, medium, low?',
  multitasking: 'Multitasking: often, sometimes, rarely?',
  habit_tracking: 'Track habits?',
  routine_flexibility: 'Routine flexibility: rigid, balanced, flexible?',

  // === SPORTS & HOBBIES (25) ===
  sports_participation: 'Sports played?',
  exercise_frequency_sports: 'Exercise frequency?',
  fitness_level: 'Fitness level: high, medium, low?',
  team_vs_individual_sports: 'Team or individual sports?',
  outdoor_vs_indoor: 'Outdoor or indoor activities?',
  competitive_nature: 'Competitive: very, somewhat, not?',
  sports_budget: 'Monthly sports budget?',
  equipment_owned: 'Sports equipment owned?',
  gym_membership: 'Gym membership?',
  sports_goals_specific: 'Sports goals?',
  injury_history: 'Past injuries?',
  recovery_needs_sports: 'Recovery needs?',
  sports_events_attended: 'Sports events attended?',
  favorite_sports_to_watch: 'Sports watched?',
  hobbies_list: 'Hobbies?',
  hobby_time_per_week: 'Hobby time per week?',
  hobby_budget: 'Hobby budget?',
  hobby_social_aspect: 'Hobbies: solo, social, both?',
  hobby_skill_level: 'Hobby skill levels?',
  hobby_learning_interest: 'New hobbies to try?',
  collections: 'Collections?',
  crafts_diy: 'DIY/crafts?',
  music_instruments: 'Instruments played?',
  music_practice: 'Music practice frequency?',
  creative_hobbies: 'Creative hobbies?',
  outdoor_activities: 'Outdoor activities?',
  water_activities: 'Water sports/activities?',
  winter_activities: 'Winter activities?',
  adventure_level: 'Adventure level: high, medium, low?',
  relaxation_hobbies: 'Relaxation hobbies?',

  // === TECHNOLOGY (25) ===
  tech_comfort_level: 'Tech comfort: expert, comfortable, learning, struggling?',
  primary_devices: 'Primary devices?',
  phone_model: 'Phone?',
  computer_os: 'Computer OS?',
  tablet_usage: 'Tablet usage?',
  smartwatch: 'Smartwatch?',
  smart_home_devices: 'Smart home devices?',
  gaming_devices: 'Gaming devices?',
  vr_ar_usage: 'VR/AR usage?',
  tech_upgrade_frequency: 'Device upgrade frequency?',
  tech_budget: 'Tech budget?',
  software_preferences: 'Software preferences?',
  cloud_storage: 'Cloud storage used?',
  password_manager: 'Password manager?',
  vpn_usage: 'VPN usage?',
  privacy_concerns: 'Privacy concern level: high, medium, low?',
  data_backup: 'Backup frequency?',
  social_media_platforms: 'Social media platforms?',
  messaging_apps: 'Messaging apps?',
  email_clients: 'Email client?',
  browser_preference: 'Browser?',
  streaming_services: 'Streaming services?',
  music_service: 'Music service?',
  podcast_platform: 'Podcast platform?',
  productivity_apps: 'Productivity apps?',
  ai_tools_used: 'AI tools used?',
  automation_tools: 'Automation tools?',
  tech_learning: 'Learning new tech: eager, willing, reluctant?',
  screen_time_daily: 'Daily screen time?',
  digital_detox: 'Digital detox frequency?',
  tech_frustrations: 'Tech frustrations?',
  tech_wishlist: 'Tech wishlist?',
  early_adopter: 'Early adopter: yes, sometimes, no?',
  tech_support: 'Tech support: self-solve or ask for help?',
  online_shopping_frequency: 'Online shopping frequency?',

  // === HOUSING & LIFESTYLE (25) ===
  housing_type: 'Housing: house, apartment, condo, other?',
  home_ownership: 'Own or rent?',
  living_space_size: 'Living space size (sqft/sqm)?',
  bedrooms: 'Bedrooms?',
  bathrooms: 'Bathrooms?',
  outdoor_space: 'Outdoor space?',
  home_office: 'Home office?',
  parking: 'Parking?',
  neighborhood_type: 'Neighborhood: urban, suburban, rural?',
  commute_to_work: 'Commute time?',
  walkability_score: 'Walkability: high, medium, low?',
  public_transport_access: 'Public transport access?',
  nearby_amenities: 'Essential nearby amenities?',
  noise_tolerance: 'Noise tolerance: high, medium, low?',
  natural_light_importance: 'Natural light importance: high, medium, low?',
  interior_style: 'Interior style?',
  furniture_budget: 'Furniture budget?',
  plant_ownership: 'Plants owned?',
  home_maintenance: 'Home maintenance: DIY or hire?',
  cleaning_service: 'Cleaning service?',
  home_renovations: 'Recent/planned renovations?',
  smart_home_level: 'Smart home level: high, medium, low?',
  energy_efficiency: 'Energy efficiency priority: high, medium, low?',
  sustainability_home: 'Home sustainability: high, medium, low?',
  pet_friendly: 'Pet-friendly space?',
  guest_accommodation: 'Guest space?',
  storage_situation: 'Storage: ample, adequate, limited?',
  home_security: 'Home security?',
  utilities_budget: 'Monthly utilities?',
  rent_mortgage: 'Rent/mortgage?',
  move_frequency: 'Move frequency?',
  ideal_location: 'Ideal location?',
  climate_preference_housing: 'Climate preference?',
  future_housing_plans: 'Future housing plans?',

  // === ENVIRONMENT (25) ===
  environmental_concern: 'Environmental concern: high, medium, low?',
  climate_action: 'Climate action: active, aware, learning?',
  recycling_habits: 'Recycling: always, often, sometimes, rarely?',
  composting: 'Composting?',
  waste_reduction: 'Waste reduction efforts?',
  reusable_items: 'Reusable items used?',
  plastic_avoidance: 'Plastic avoidance: active, moderate, minimal?',
  energy_conservation: 'Energy conservation?',
  water_conservation: 'Water conservation?',
  renewable_energy: 'Renewable energy use?',
  transportation_environmental: 'Transport: car, public, bike, walk, mix?',
  electric_vehicle: 'Electric vehicle?',
  carbon_footprint_awareness: 'Carbon footprint awareness: high, medium, low?',
  carbon_offsetting: 'Carbon offsetting?',
  sustainable_shopping: 'Sustainable shopping priority: high, medium, low?',
  secondhand_shopping: 'Secondhand shopping frequency?',
  local_products: 'Local products priority: high, medium, low?',
  organic_products: 'Organic products priority: high, medium, low?',
  minimalism: 'Minimalism: yes, somewhat, no?',
  donation_frequency: 'Donation frequency?',
  environmental_activism: 'Environmental activism?',
  conservation_efforts: 'Conservation efforts?',
  wildlife_support: 'Wildlife support?',
  environmental_education: 'Environmental education: active, interested, minimal?',
  eco_friendly_home: 'Eco-friendly home features?',
  garden_growing: 'Grow own food?',
  environmental_budget: 'Environmental budget?',
  green_certifications: 'Green certifications valued?',
  environmental_goals: 'Environmental goals?',
  climate_anxiety: 'Climate anxiety: high, medium, low?',
  environmental_community: 'Environmental groups joined?',

  // === PHILOSOPHY (25) ===
  life_purpose: 'Life purpose?',
  meaning_of_life: 'Meaning of life?',
  belief_system: 'Belief system?',
  existential_questions: 'Existential questions pondered?',
  mortality_perspective: 'View on mortality?',
  afterlife_beliefs: 'Afterlife beliefs?',
  free_will: 'Free will: yes, no, uncertain?',
  fate_vs_choice: 'Fate or choice?',
  good_vs_evil: 'View on good vs evil?',
  human_nature: 'Human nature view: good, neutral, complex?',
  truth_definition: 'Truth definition?',
  knowledge_sources: 'Trusted knowledge sources?',
  reality_perception: 'Reality perception?',
  consciousness_view: 'Consciousness view?',
  ethical_framework: 'Ethical framework?',
  moral_compass: 'Moral compass source?',
  justice_definition: 'Justice definition?',
  rights_responsibilities: 'Rights vs responsibilities?',
  individual_vs_collective: 'Individual or collective priority?',
  change_vs_tradition: 'Change or tradition?',
  progress_definition: 'Progress definition?',
  technology_philosophy: 'Technology view: optimistic, cautious, pessimistic?',
  nature_vs_nurture: 'Nature or nurture?',
  happiness_pursuit: 'Happiness philosophy?',
  suffering_meaning: 'Suffering meaning?',
  legacy_importance: 'Legacy importance: high, medium, low?',
  influence_philosophy: 'Philosophical influences?',
  contemplation_frequency: 'Philosophical contemplation frequency?',
  spiritual_practices: 'Spiritual practices?',
  meditation_philosophy: 'Meditation/mindfulness?',

  // === POLITICS (25) ===
  political_engagement: 'Political engagement: active, moderate, minimal?',
  political_ideology: 'Political ideology?',
  voting_frequency: 'Voting: always, usually, sometimes, rarely?',
  news_sources_politics: 'Political news sources?',
  political_discussion: 'Political discussion: often, sometimes, avoid?',
  activism_participation: 'Activism: active, occasional, none?',
  causes_supported: 'Causes supported?',
  charity_donations: 'Charity donations?',
  volunteering: 'Volunteering frequency?',
  social_justice: 'Social justice priority: high, medium, low?',
  economic_views: 'Economic views?',
  healthcare_views: 'Healthcare views?',
  education_views: 'Education views?',
  environmental_policy: 'Environmental policy priority: high, medium, low?',
  immigration_views: 'Immigration views?',
  foreign_policy: 'Foreign policy interest: high, medium, low?',
  government_role: 'Government role preference?',
  taxation_views: 'Taxation views?',
  regulation_views: 'Regulation views?',
  civil_liberties: 'Civil liberties priority: high, medium, low?',
  gun_control: 'Gun control views?',
  abortion_rights: 'Abortion views?',
  lgbtq_rights: 'LGBTQ+ rights: strong support, support, neutral, oppose?',
  racial_justice: 'Racial justice priority: high, medium, low?',
  gender_equality: 'Gender equality priority: high, medium, low?',
  workers_rights: 'Workers\' rights priority: high, medium, low?',
  corporate_responsibility: 'Corporate responsibility views?',
  media_trust: 'Media trust: high, medium, low?',
  fact_checking: 'Fact-checking: always, often, sometimes, rarely?',
  political_hope: 'Political outlook: optimistic, realistic, pessimistic?',

  // === FUTURE (25) ===
  future_outlook: 'Future outlook: optimistic, realistic, pessimistic?',
  one_year_goals: '1-year goal?',
  five_year_goals: '5-year goal?',
  ten_year_goals: '10-year goal?',
  career_aspirations: 'Career aspirations?',
  financial_goals: 'Financial goals?',
  savings_target: 'Savings target?',
  retirement_plans: 'Retirement plans?',
  retirement_age_target: 'Retirement age target?',
  investment_strategy: 'Investment strategy?',
  real_estate_goals: 'Real estate goals?',
  education_future: 'Future education plans?',
  skill_development: 'Skills to develop?',
  health_goals_future: 'Health goals?',
  fitness_goals_future: 'Fitness goals?',
  weight_goals: 'Weight goals?',
  relationship_future: 'Relationship goals?',
  family_future: 'Family plans?',
  children_future: 'Children plans?',
  relocation_plans: 'Relocation plans?',
  travel_bucket_list: 'Travel bucket list?',
  adventure_goals: 'Adventure goals?',
  creative_projects: 'Creative project goals?',
  business_ideas: 'Business ideas?',
  side_hustle: 'Side hustle plans?',
  passive_income: 'Passive income goals?',
  philanthropy: 'Philanthropy goals?',
  legacy_goals: 'Legacy goals?',
  bucket_list: 'Bucket list items?',
  fears_about_future: 'Future fears?',
  excitement_about_future: 'Future excitement?',
};

/**
 * Generate question from field name
 */
function generateQuestion(fieldName, category, subcategory) {
  if (FIELD_MAPPINGS[fieldName]) {
    return FIELD_MAPPINGS[fieldName];
  }

  // Fallback
  const cleanedName = fieldName
    .replace(/_/g, ' ')
    .replace(/^preferred /, '')
    .replace(/^favorite /, '')
    .replace(/^typical /, '');

  return `What is your ${cleanedName}?`;
}

/**
 * Extract all fields from template recursively
 */
function extractFieldsFromTemplate(template, category) {
  const fields = [];

  for (const [subcategoryKey, subcategoryData] of Object.entries(template)) {
    if (typeof subcategoryData === 'object' && !Array.isArray(subcategoryData)) {
      for (const [fieldName, fieldValue] of Object.entries(subcategoryData)) {
        const isEmpty =
          fieldValue === '' ||
          fieldValue === null ||
          fieldValue === undefined ||
          (Array.isArray(fieldValue) && fieldValue.length === 0) ||
          fieldValue === 0 ||
          fieldValue === false;

        if (isEmpty) {
          fields.push({
            fieldName,
            subcategoryKey,
            category,
            question: generateQuestion(fieldName, category, subcategoryKey),
            fieldType: Array.isArray(fieldValue) ? 'array' : typeof fieldValue
          });
        }
      }
    }
  }

  return fields;
}

/**
 * Get a random unanswered question from a template
 */
function getRandomQuestion(template, category) {
  const fields = extractFieldsFromTemplate(template, category);

  if (fields.length === 0) {
    return null;
  }

  const shuffled = [...fields];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }

  return shuffled[0];
}

// Export for use in other modules
if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    generateQuestion,
    extractFieldsFromTemplate,
    getRandomQuestion
  };
}
